<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>National Disaster Management Portal | Govt. of India</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

  <style>
   :root{
    --primary:#0b5ed7;
    --primary-dark:#084298;
    --bg:#f5f7fb;
    --card:#ffffff;
    --text:#1f2937;
    --muted:#6b7280;
    --border:#d1d5db;
    --radius:14px;
}

    body {
      margin: 0;
      font-family: "Segoe UI", Arial, sans-serif;
      background: var(--gov-light);
    }

header{
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:18px 28px;
    background:linear-gradient(135deg, var(--primary), var(--primary-dark));
    color:#fff;
    box-shadow:0 8px 25px rgba(0,0,0,0.2);
}

header h1{
    font-size:18px;
    font-weight:600;
}

header i{
    font-size:20px;
    cursor:pointer;
}



    /* ================== MAP ================== */
    #map {
      height: calc(100vh - 100px);
    }

    /* ================== CONTROL PANEL ================== */
    .map-controls {
      position: absolute;
      top: 110px;
      left: 24px;
      background: var(--gov-white);
      border-radius: 8px;
      padding: 12px 14px;
      box-shadow: var(--card-shadow);
      z-index: 1000;
      min-width: 240px;
    }

    .map-controls label {
      font-size: 14px;
      color: var(--gov-blue);
      font-weight: 600;
    }

    .map-controls select {
      width: 100%;
      margin-top: 6px;
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 14px;
      outline: none;
    }

    .hint {
      font-size: 12px;
      color: var(--gov-gray);
      margin-top: 8px;
    }

    /* ================== FOOTER ================== */
    footer {
      background: var(--gov-blue);
      color: white;
      text-align: center;
      padding: 8px;
      font-size: 12px;
    }
  </style>
</head>

<body>

<header>
    <i class="fas fa-arrow-left" onclick="location.href='Home.html'"></i>
    <h1>Disaster Rescue Management</h1>
    <i class="fas fa-bell"></i>
</header>

<div class="map-controls">
  <label for="actionSelect">Choose Action</label>
  <select id="actionSelect">
    <option value="">‚Äî Select ‚Äî</option>
    <option value="shelter">üè† Add Relief Shelter</option>
    <option value="affected">‚ö†Ô∏è Mark Affected Area</option>
    <option value="flood">üåä Mark Flood Zone</option>
  </select>
  <div class="hint">Then click on the map to place it</div>
</div>

<div id="map"></div>

<footer>
  ¬© Government of India | National Disaster Management Authority (NDMA)
</footer>

<script>
  var map = L.map("map").setView([19.0760, 72.8777], 12);

  L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
    maxZoom: 19
  }).addTo(map);

  var shelterLayer = L.layerGroup().addTo(map);
  var affectedLayer = L.layerGroup().addTo(map);
  var floodLayer = L.layerGroup().addTo(map);

  var mode = "";

  document.getElementById("actionSelect").addEventListener("change", function () {
    mode = this.value;
  });

  map.on("click", function (e) {
    if (!mode) return;

    var latlng = e.latlng;

    if (mode === "shelter") {
      var name = prompt("Enter Shelter Name") || "Relief Shelter";
      L.marker(latlng)
        .bindPopup("<b>Relief Shelter</b><br>" + name)
        .addTo(shelterLayer);
    }

    if (mode === "affected") {
      L.polygon([
        [latlng.lat + 0.002, latlng.lng - 0.002],
        [latlng.lat + 0.002, latlng.lng + 0.002],
        [latlng.lat - 0.002, latlng.lng + 0.002],
        [latlng.lat - 0.002, latlng.lng - 0.002]
      ], { color: "#FF9800", fillOpacity: 0.4 })
        .bindPopup("Affected Area")
        .addTo(affectedLayer);
    }

    if (mode === "flood") {
      L.polygon([
        [latlng.lat + 0.003, latlng.lng - 0.003],
        [latlng.lat + 0.003, latlng.lng + 0.003],
        [latlng.lat - 0.003, latlng.lng + 0.003],
        [latlng.lat - 0.003, latlng.lng - 0.003]
      ], { color: "#d32f2f", fillOpacity: 0.45 })
        .bindPopup("Flood Affected Zone")
        .addTo(floodLayer);
    }
  });

  map.locate({ setView: true, maxZoom: 15 });
</script>

</body>
</html>
